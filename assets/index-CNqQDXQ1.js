import{j as y,e as M,u as N}from"./index-TPQGTVDa.js";/* empty css                     *//* empty css                  *//* empty css                 */import{t as F,v as V,G as q,aF as z,x as p,r as f,aC as I,V as T,D as U,H as j,M as a,A as i,u as e,E as d,aj as A,R as D,J as K,ay as O}from"./vue-ClXjDkJM.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-CUC8VjAk.js";import{V as $,W as G,C as H,X as J,Y as L,r as W,E as X}from"./element-0WP7HAzl.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-tYnSz-zK.js";/* empty css                   */const P="/assets/logo-text-2-CjYxCf0V.png";function Q(){return y({url:"auth/captcha",method:"get"})}function Z(o){return y({url:"auth/login",method:"post",data:o})}const ee=F({__name:"Owl",props:{closeEyes:{type:Boolean}},setup(o){const r=o;return(u,n)=>(p(),V("div",{class:q(["owl",{"owl-password":r.closeEyes}])},n[0]||(n[0]=[z('<div class="hand-down-left" data-v-9d98ae89></div><div class="hand-down-right" data-v-9d98ae89></div><div class="hand-up-left" data-v-9d98ae89></div><div class="hand-up-right" data-v-9d98ae89></div><div class="close-eyes" data-v-9d98ae89></div>',5)]),2))}}),se=B(ee,[["__scopeId","data-v-9d98ae89"]]);function oe(){const o=f(!1);return{isFocus:o,handleBlur:()=>{o.value=!1},handleFocus:()=>{o.value=!0}}}const te={class:"login-container"},ae={class:"login-card"},re={class:"content"},ne=F({__name:"index",setup(o){const r=O(),u=M(),n=N(),{isFocus:C,handleBlur:E,handleFocus:k}=oe(),_=I("loginFormRef"),c=f(!1),g=f(""),t=T({username:"admin",password:"12345678",code:""}),b={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]};function v(){_.value?.validate(l=>{if(!l){X.error("表单校验不通过");return}c.value=!0,Z(t).then(({data:s})=>{u.setToken(s.token),r.push("/")}).catch(()=>{h(),t.password=""}).finally(()=>{c.value=!1})})}function h(){t.code="",g.value="",Q().then(l=>{g.value=l.data})}return h(),(l,s)=>{const w=H,x=G,R=W,S=$;return p(),V("div",te,[e(n).showThemeSwitch?(p(),U(Y,{key:0,class:"theme-switch"})):j("",!0),a(se,{"close-eyes":e(C)},null,8,["close-eyes"]),i("div",ae,[s[3]||(s[3]=i("div",{class:"title"},[i("img",{src:P})],-1)),i("div",re,[a(S,{ref_key:"loginFormRef",ref:_,model:e(t),rules:b,onKeyup:A(v,["enter"])},{default:d(()=>[a(x,{prop:"username"},{default:d(()=>[a(w,{modelValue:e(t).username,"onUpdate:modelValue":s[0]||(s[0]=m=>e(t).username=m),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":e(J),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),a(x,{prop:"password"},{default:d(()=>[a(w,{modelValue:e(t).password,"onUpdate:modelValue":s[1]||(s[1]=m=>e(t).password=m),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":e(L),size:"large","show-password":"",onBlur:e(E),onFocus:e(k)},null,8,["modelValue","prefix-icon","onBlur","onFocus"])]),_:1}),a(R,{loading:e(c),type:"primary",size:"large",onClick:D(v,["prevent"])},{default:d(()=>s[2]||(s[2]=[K(" 登 录 ")])),_:1,__:[2]},8,["loading"])]),_:1},8,["model"])])])])}}}),ve=B(ne,[["__scopeId","data-v-e6fa1c13"]]);export{ve as default};
